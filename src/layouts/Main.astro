---
import Footer from "../components/Footer.astro";
import NavBar from "../components/NavBar.astro";

import "../styles/global.css";

type Props = {
  title: string;
};

const { title } = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <meta name="generator" content={Astro.generator} />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="description" content="Jays Website" />
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:400,500,600,700,800,900&display=swap"
      rel="stylesheet"
    />
    <title>{title}</title>

    <script is:inline>
      // window.localStorage.getItem('color-mode')
      // window.matchMedia("(prefers-color-scheme: light)").matches
      // DARK

      const getInitialColorMode = () => {
        const storedColorMode = window.localStorage.getItem("color-mode");

        if (storedColorMode != null) {
          return storedColorMode;
        }

        if (window.matchMedia("(prefers-color-scheme: light)").matches) {
          return "white";
        }

        return "dark";
      };

      const initialColorMode = getInitialColorMode();

      document.documentElement.setAttribute("data-mode", initialColorMode);
      window.localStorage.setItem("color-mode", initialColorMode);
    </script>
  </head><body
    class="m-auto flex min-h-screen flex-col max-w-[95rem] overflow-x-hidden bg-white font-sans text-slate-600 transition-colors duration-1000 dark:bg-black dark:text-slate-200"
  >
    <!-- <NavBar /> -->
    <NavBar title={title} />
    <main class="flex-1">
      <slot />
    </main>
    <Footer />
  </body>
</html>
