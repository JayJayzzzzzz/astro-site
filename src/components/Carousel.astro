---
export type Props = {
  images: object[];
};

const { images } = Astro.props;
---

<div class="container">
  <input type="radio" name="slider" id="item-1" checked />
  <input type="radio" name="slider" id="item-2" />
  <input type="radio" name="slider" id="item-3" />

  <div class="cards">
    {
      images.map((img) => (
        <label class="card" for={"item-" + img.id} id={"song-" + img.id}>
          <img src={img.src} alt="image" />
        </label>
      ))
    }
  </div>
</div>

<style>
  .container {
    height: 30rem;
    padding: 30px 10px;
    margin: auto;
    transform-style: preserve-3d;
    display: flex;
    justify-content: center;
    flex-direction: column;
    align-items: center;
    font-family: "DM Sans", sans-serif;
    transition: background 0.4s ease-in;
  }

  @media only screen and (max-width: 1280px) {
    .container {
      height: 25rem;
    }
  }

  @media only screen and (max-width: 1025px) {
    .container {
      height: 20rem;
    }
  }

  @media only screen and (max-width: 500px) {
    .container {
      height: 16rem;
    }
  }

  input[type="radio"] {
    display: none;
  }

  .card {
    position: absolute;
    width: 60%;
    height: 100%;
    left: 0;
    right: 0;
    margin: auto;
    transition: transform 0.4s ease;
    cursor: pointer;
  }

  .cards {
    position: relative;
    width: 100%;
    height: 100%;
    margin-bottom: 20px;
  }

  img {
    width: 100%;
    height: 100%;
    border-radius: 10px;
    -o-object-fit: cover;
    object-fit: cover;
  }

  #item-1:checked ~ .cards #song-3,
  #item-2:checked ~ .cards #song-1,
  #item-3:checked ~ .cards #song-2 {
    transform: translatex(-40%) scale(0.8);
    opacity: 0.4;
    z-index: 0;
  }

  #item-1:checked ~ .cards #song-2,
  #item-2:checked ~ .cards #song-3,
  #item-3:checked ~ .cards #song-1 {
    transform: translatex(40%) scale(0.8);
    opacity: 0.4;
    z-index: 0;
  }

  #item-1:checked ~ .cards #song-1,
  #item-2:checked ~ .cards #song-2,
  #item-3:checked ~ .cards #song-3 {
    transform: translatex(0) scale(1);
    opacity: 1;
    z-index: 1;
  }
</style>
